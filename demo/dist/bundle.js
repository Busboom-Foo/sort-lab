!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SortVisualizer=e():t.SortVisualizer=e()}(this,(()=>(()=>{"use strict";var t,e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{Bar:()=>r,BarState:()=>t,SortAlgorithms:()=>l,SortVisualizer:()=>o,injectStyles:()=>d}),function(t){t.UNSORTED="unsorted",t.SORTED="sorted",t.PIVOT="pivot",t.COMPARING="comparing",t.SWAPPING="swapping"}(t||(t={}));var r=function(){function e(e,n,r,a){this._value=n,this.originalIndex=r,this._state=t.UNSORTED,this.maxValue=a,this.element=document.createElement("div"),this.element.className="sort-visualizer-bar",this.element.style.height="".concat(n/a*100,"%"),this.element.dataset.value=n.toString(),this.element.dataset.originalIndex=r.toString(),this.updateStyle(),e.appendChild(this.element)}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.element.dataset.value=t.toString(),this.element.style.height="".concat(t/this.maxValue*100,"%")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,this.updateStyle()},enumerable:!1,configurable:!0}),e.prototype.updateStyle=function(){this.element.classList.remove("state-unsorted","state-sorted","state-pivot","state-comparing","state-swapping"),this.element.classList.add("state-".concat(this._state))},e}(),a=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function o(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}u((r=r.apply(t,e||[])).next())}))},i=function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},s=function(t,e,n){if(n||2===arguments.length)for(var r,a=0,i=e.length;a<i;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))},o=function(){function e(t){if(this.controlsContainer=null,this.bars=[],this.data=[],this.running=!1,this.paused=!1,"string"==typeof t.container){var e=document.querySelector(t.container);if(!e)throw new Error("Container element not found: ".concat(t.container));this.container=e}else this.container=t.container;this.elementCount=t.elementCount||50,this.maxValue=t.maxValue||100,this.minValue=t.minValue||1,this.delay=t.delay||50,this.container.classList.add("sort-visualizer"),this.barsContainer=document.createElement("div"),this.barsContainer.className="sort-visualizer-bars",this.container.appendChild(this.barsContainer),t.data?(this.data=s([],t.data,!0),this.elementCount=t.data.length):this.data=this.generateRandomData(),!1!==t.showControls&&this.createControls(),this.initializeBars()}return e.prototype.generateRandomData=function(){for(var t=[],e=0;e<this.elementCount;e++)t.push(Math.floor(Math.random()*(this.maxValue-this.minValue+1))+this.minValue);return t},e.prototype.createControls=function(){var t=this;this.controlsContainer=document.createElement("div"),this.controlsContainer.className="sort-visualizer-controls";var e=document.createElement("button");e.textContent="Start",e.addEventListener("click",(function(){return t.start()}));var n=document.createElement("button");n.textContent="Pause",n.addEventListener("click",(function(){return t.pause()}));var r=document.createElement("button");r.textContent="Reset",r.addEventListener("click",(function(){return t.reset()}));var a=document.createElement("button");a.textContent="Shuffle",a.addEventListener("click",(function(){return t.shuffle()}));var i=document.createElement("div");i.className="slider-container";var s=document.createElement("label");s.textContent="Elements:";var o=document.createElement("input");o.type="range",o.min="10",o.max="200",o.value=this.elementCount.toString(),o.addEventListener("change",(function(){t.elementCount=parseInt(o.value),t.reset()}));var u=document.createElement("div");u.className="slider-container";var c=document.createElement("label");c.textContent="Speed:";var l=document.createElement("input");l.type="range",l.min="1",l.max="100",l.value=(101-this.delay).toString(),l.addEventListener("change",(function(){t.delay=101-parseInt(l.value)})),i.appendChild(s),i.appendChild(o),u.appendChild(c),u.appendChild(l),this.controlsContainer.appendChild(e),this.controlsContainer.appendChild(n),this.controlsContainer.appendChild(r),this.controlsContainer.appendChild(a),this.controlsContainer.appendChild(i),this.controlsContainer.appendChild(u),this.container.appendChild(this.controlsContainer)},e.prototype.initializeBars=function(){this.barsContainer.innerHTML="",this.bars=[];for(var t=Math.max.apply(Math,this.data),e=0;e<this.data.length;e++)this.bars.push(new r(this.barsContainer,this.data[e],e,t))},e.prototype.start=function(){console.log("Start called"),this.running=!0,this.paused=!1},e.prototype.pause=function(){console.log("Pause called"),this.paused=!0},e.prototype.reset=function(){console.log("Reset called"),this.running=!1,this.paused=!1,this.data=this.generateRandomData(),this.initializeBars()},e.prototype.shuffle=function(){console.log("Shuffle called"),this.running=!1,this.paused=!1,this.data=this.generateRandomData(),this.initializeBars()},e.prototype.setBarStates=function(t,e){for(var n=0,r=t;n<r.length;n++){var a=r[n];a>=0&&a<this.bars.length&&(this.bars[a].state=e)}},e.prototype.setAllBarsState=function(t){for(var e=0,n=this.bars;e<n.length;e++)n[e].state=t},e.prototype.get=function(t){if(t<0||t>=this.bars.length)throw new Error("Index out of bounds: ".concat(t));return this.bars[t].value},e.prototype.set=function(t,e){if(t<0||t>=this.bars.length)throw new Error("Index out of bounds: ".concat(t));this.bars[t].value=e,this.data[t]=e},e.prototype.compare=function(e,n){return a(this,void 0,void 0,(function(){var r;return i(this,(function(a){switch(a.label){case 0:if(e<0||e>=this.bars.length||n<0||n>=this.bars.length)throw new Error("Index out of bounds: ".concat(e," or ").concat(n));return this.running?(this.bars[e].state=t.COMPARING,this.bars[n].state=t.COMPARING,[4,this.wait()]):[2,this.bars[e].value>this.bars[n].value];case 1:return a.sent(),r=this.bars[e].value>this.bars[n].value,this.bars[e].state=t.UNSORTED,this.bars[n].state=t.UNSORTED,[2,r]}}))}))},e.prototype.swap=function(e,n){return a(this,void 0,void 0,(function(){var r;return i(this,(function(a){switch(a.label){case 0:if(e<0||e>=this.bars.length||n<0||n>=this.bars.length)throw new Error("Index out of bounds: ".concat(e," or ").concat(n));return this.running?(this.bars[e].state=t.SWAPPING,this.bars[n].state=t.SWAPPING,[4,this.wait()]):[2];case 1:return a.sent(),r=this.bars[e].value,this.bars[e].value=this.bars[n].value,this.bars[n].value=r,this.data[e]=this.bars[e].value,this.data[n]=this.bars[n].value,[4,this.wait()];case 2:return a.sent(),this.bars[e].state=t.UNSORTED,this.bars[n].state=t.UNSORTED,[2]}}))}))},e.prototype.shift=function(e,n){return a(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:if(e<0||e>=this.bars.length||n<0||n>=this.bars.length)throw new Error("Index out of bounds: ".concat(e," or ").concat(n));if(!this.running)return[2];r=e<n?1:-1,a=n,i.label=1;case 1:return a===e?[3,5]:(this.bars[a].state=t.SWAPPING,this.bars[a-r].state=t.SWAPPING,[4,this.wait()]);case 2:return i.sent(),this.bars[a].value=this.bars[a-r].value,this.data[a]=this.data[a-r],[4,this.wait()];case 3:i.sent(),this.bars[a].state=t.UNSORTED,this.bars[a-r].state=t.UNSORTED,i.label=4;case 4:return a-=r,[3,1];case 5:return[2]}}))}))},e.prototype.insert=function(e,n){return a(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:if(e<0||e>=this.bars.length)throw new Error("Index out of bounds: ".concat(e));return this.running?(this.bars[e].state=t.SWAPPING,[4,this.wait()]):[2];case 1:return r.sent(),this.bars[e].value=n,this.data[e]=n,[4,this.wait()];case 2:return r.sent(),this.bars[e].state=t.UNSORTED,[2]}}))}))},e.prototype.wait=function(){return a(this,void 0,void 0,(function(){var t=this;return i(this,(function(e){return[2,new Promise((function(e){var n=function(){t.paused?setTimeout(n,100):t.running?setTimeout(e,t.delay):e()};n()}))]}))}))},e.prototype.markAsSorted=function(e){for(var n=0,r=e;n<r.length;n++){var a=r[n];a>=0&&a<this.bars.length&&(this.bars[a].state=t.SORTED)}},e.prototype.setPivot=function(e){e>=0&&e<this.bars.length&&(this.bars[e].state=t.PIVOT)},e.prototype.getData=function(){return s([],this.data,!0)},e.prototype.setData=function(t){this.running=!1,this.paused=!1,this.data=s([],t,!0),this.elementCount=t.length,this.initializeBars()},e.prototype.isRunning=function(){return this.running},e.prototype.isPaused=function(){return this.paused},e}(),u=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function o(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}u((r=r.apply(t,e||[])).next())}))},c=function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},l=function(){function e(){}return e.bubbleSort=function(t){return u(this,void 0,void 0,(function(){var e,n,r,a,i;return c(this,(function(s){switch(s.label){case 0:console.log("Starting bubble sort algorithm"),e=t.getData().length,n=0,s.label=1;case 1:if(!(n<e))return[3,8];r=!1,a=0,s.label=2;case 2:return a<e-n-1?(console.log("Comparing ".concat(a," and ").concat(a+1)),[4,t.compare(a,a+1)]):[3,6];case 3:return s.sent()?(console.log("Swapping ".concat(a," and ").concat(a+1)),[4,t.swap(a,a+1)]):[3,5];case 4:s.sent(),r=!0,s.label=5;case 5:return a++,[3,2];case 6:if(t.markAsSorted([e-n-1]),!r)return i=Array.from({length:e-n-1},(function(t,e){return e})),t.markAsSorted(i),[3,8];s.label=7;case 7:return n++,[3,1];case 8:return[2]}}))}))},e.selectionSort=function(t){return u(this,void 0,void 0,(function(){var e,n,r,a;return c(this,(function(i){switch(i.label){case 0:e=t.getData().length,n=0,i.label=1;case 1:if(!(n<e-1))return[3,9];r=n,a=n+1,i.label=2;case 2:return a<e?[4,t.compare(r,a)]:[3,5];case 3:i.sent()&&(r=a),i.label=4;case 4:return a++,[3,2];case 5:return r===n?[3,7]:[4,t.swap(n,r)];case 6:i.sent(),i.label=7;case 7:t.markAsSorted([n]),i.label=8;case 8:return n++,[3,1];case 9:return t.markAsSorted([e-1]),[2]}}))}))},e.insertionSort=function(t){return u(this,void 0,void 0,(function(){var e,n,r,a,i;return c(this,(function(s){switch(s.label){case 0:e=t.getData().length,t.markAsSorted([0]),n=1,s.label=1;case 1:if(!(n<e))return[3,7];r=t.get(n),a=n-1,s.label=2;case 2:return a>=0&&t.get(a)>r?[4,t.set(a+1,t.get(a))]:[3,4];case 3:return s.sent(),a--,[3,2];case 4:return[4,t.set(a+1,r)];case 5:s.sent(),i=Array.from({length:n+1},(function(t,e){return e})),t.markAsSorted(i),s.label=6;case 6:return n++,[3,1];case 7:return[2]}}))}))},e.quickSort=function(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return e=t.getData(),[4,this.quickSortRecursive(t,0,e.length-1)];case 1:return r.sent(),n=Array.from({length:e.length},(function(t,e){return e})),t.markAsSorted(n),[2]}}))}))},e.quickSortRecursive=function(t,e,n){return u(this,void 0,void 0,(function(){var r;return c(this,(function(a){switch(a.label){case 0:return e<n?[4,this.partition(t,e,n)]:[3,4];case 1:return r=a.sent(),t.markAsSorted([r]),[4,this.quickSortRecursive(t,e,r-1)];case 2:return a.sent(),[4,this.quickSortRecursive(t,r+1,n)];case 3:return a.sent(),[3,5];case 4:e===n&&t.markAsSorted([e]),a.label=5;case 5:return[2]}}))}))},e.partition=function(e,n,r){return u(this,void 0,void 0,(function(){var a,i,s;return c(this,(function(o){switch(o.label){case 0:a=e.get(r),e.setPivot(r),i=n-1,s=n,o.label=1;case 1:return s<r?e.get(s)<=a?++i===s?[3,3]:[4,e.swap(i,s)]:[3,3]:[3,4];case 2:o.sent(),o.label=3;case 3:return s++,[3,1];case 4:return i+1===r?[3,6]:[4,e.swap(i+1,r)];case 5:o.sent(),o.label=6;case 6:return e.setBarStates([r],t.UNSORTED),[2,i+1]}}))}))},e.mergeSort=function(t){return u(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return e=t.getData(),[4,this.mergeSortRecursive(t,0,e.length-1)];case 1:return r.sent(),n=Array.from({length:e.length},(function(t,e){return e})),t.markAsSorted(n),[2]}}))}))},e.mergeSortRecursive=function(t,e,n){return u(this,void 0,void 0,(function(){var r;return c(this,(function(a){switch(a.label){case 0:return e<n?(r=Math.floor((e+n)/2),[4,this.mergeSortRecursive(t,e,r)]):[3,4];case 1:return a.sent(),[4,this.mergeSortRecursive(t,r+1,n)];case 2:return a.sent(),[4,this.merge(t,e,r,n)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))},e.merge=function(t,e,n,r){return u(this,void 0,void 0,(function(){var a,i,s,o,u,l,h,d,f;return c(this,(function(c){switch(c.label){case 0:for(a=n-e+1,i=r-n,s=[],o=[],u=0;u<a;u++)s[u]=t.get(e+u);for(l=0;l<i;l++)o[l]=t.get(n+1+l);h=0,d=0,f=e,c.label=1;case 1:return h<a&&d<i?s[h]<=o[d]?[4,t.set(f,s[h])]:[3,3]:[3,6];case 2:return c.sent(),h++,[3,5];case 3:return[4,t.set(f,o[d])];case 4:c.sent(),d++,c.label=5;case 5:return f++,[3,1];case 6:return h<a?[4,t.set(f,s[h])]:[3,8];case 7:return c.sent(),h++,f++,[3,6];case 8:return d<i?[4,t.set(f,o[d])]:[3,10];case 9:return c.sent(),d++,f++,[3,8];case 10:return[2]}}))}))},e}(),h="\n.sort-visualizer {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n}\n\n.sort-visualizer-bars {\n  display: flex;\n  align-items: flex-end;\n  height: 80%;\n  width: 100%;\n  background-color: #f5f5f5;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 10px;\n  padding: 10px;\n  box-sizing: border-box;\n}\n\n.sort-visualizer-bar {\n  flex: 1;\n  margin: 0 1px;\n  transition: height 0.1s ease-in-out;\n  background-color: #6c757d;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n}\n\n.sort-visualizer-bar.state-unsorted {\n  background-color: #6c757d;\n}\n\n.sort-visualizer-bar.state-sorted {\n  background-color: #28a745;\n}\n\n.sort-visualizer-bar.state-pivot {\n  background-color: #dc3545;\n}\n\n.sort-visualizer-bar.state-comparing {\n  background-color: #ffc107;\n}\n\n.sort-visualizer-bar.state-swapping {\n  background-color: #17a2b8;\n}\n\n.sort-visualizer-controls {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  padding: 10px;\n  background-color: #f8f9fa;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.sort-visualizer-controls button {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  background-color: #007bff;\n  color: white;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.2s;\n}\n\n.sort-visualizer-controls button:hover {\n  background-color: #0069d9;\n}\n\n.sort-visualizer-controls button:focus {\n  outline: none;\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n\n.slider-container {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.slider-container label {\n  margin-right: 5px;\n  font-size: 14px;\n}\n\n.slider-container input {\n  cursor: pointer;\n}\n";function d(){if("undefined"!=typeof document){var t="sort-visualizer-styles";if(!document.getElementById(t)){var e=document.createElement("style");e.id=t,e.textContent=h,document.head.appendChild(e)}}}return d(),n})()));